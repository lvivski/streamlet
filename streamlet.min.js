!function(t){"use strict";function n(){this.listeners=[]}function e(t,n){i(function(){t(n)})}function o(){n.call(this)}function r(t,n){var e=new o;return t.addEventListener(n,function(t){e.add(t)},!1),e}var i;"function"==typeof define&&define.amd?define(["subsequent"],function(t){return i=t,n}):"object"==typeof module&&module.exports?(module.exports=n,i=require("subsequent")):(t.Stream=n,i=t.nextTick),n.prototype.add=function(t){for(var n=0;n<this.listeners.length;++n)e(this.listeners[n],t)},n.prototype.listen=function(t){this.listeners.push(t)},n.prototype.transform=function(t){var n=new this.constructor;return this.listen(t(n)),n},n.prototype.map=function(t){return this.transform(function(n){return function(e){e=t(e),n.add(e)}})},n.prototype.filter=function(t){return this.transform(function(n){return function(e){t(e)&&n.add(e)}})},n.prototype.skip=function(t){return this.transform(function(n){return function(e){t-->0||n.add(e)}})},n.prototype.take=function(t){return this.transform(function(n){return function(e){t-->0&&n.add(e)}})},n.prototype.expand=function(t){return this.transform(function(n){return function(e){e=t(e);for(var o in e)n.add(e[o])}})},o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.add=function(t){for(var n=0;n<this.listeners.length;++n)this.listeners[n].call(null,t)},"undefined"!=typeof window&&(window.on=Node.prototype.on=function(t){return new r(this,t)})}(this);
//# sourceMappingURL=streamlet.min.js.map